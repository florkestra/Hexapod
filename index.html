<!DOCTYPE HTML>
<html>  
    <head> 
    <script src="bower_components/flocking/dist/flocking-all.min.js"></script>
    <script src="bower_components/jquery.terminal/js/jquery.mousewheel-min.js"></script>
    <script src="bower_components/jquery.terminal/js/jquery.terminal-min.js"></script>
    <link href="bower_components/jquery.terminal/css/jquery.terminal.css" rel="stylesheet"/>
</head>
<body>
     <div id="flockterm"></div>
     <canvas id="animation"></canvas>

<script>
jQuery(function($, undefined) {
    $('#flockterm').terminal(function(command, term) {
        if (command !== '') {
            try {
                var result = window.eval(command);
                if (result !== undefined) {
                    term.echo(new String(result));
                }
            } catch(e) {
                term.error(new String(e));
            }
        } else {
           term.echo('');
        }
    }, {
	completion: ['hexapod'],
        greetings: false,
        name: 'flockterm',
        height: 200,
        prompt: 'flock> '});
});
</script>

<script>

(function(){

	fluid.registerNamespace("hexapod");
	hexapod.synthname = "l1";
	hexapod.synth = flock.synth({
		synthDef:{
			id: hexapod.synthname,
			ugen: "flock.ugen.sinOsc",
			freq: 400,
			mul: 0.,
		}
	});

	hexapod.fadein = {ugen: "flock.ugen.line", start: 0, end: 0.25, time: 10};
	hexapod.fadeout = {ugen: "flock.ugen.line", start: 1., end: 0. ,time: 10 };
	hexapod.vibrato = {ugen: "flock.ugen.sinOsc", freq: 1., mul: 3 };

	hexapod.rock = function(){
		console.log("afdfa");		
		$("#flockterm").animate({"backgroundColor": "#555"},5000);// doesn't work 
	};

	hexapod.play = hexapod.synth.play;
	hexapod.set = hexapod.synth.set;
}());

</script>
</body>
</html>
